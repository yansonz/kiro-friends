# 🧠 Kiro Friends 유형 분류 질문 설계

## 설계 원칙

- 총 16문항 (예상 소요시간: 2~3분)
- Q1~Q8: 4축 성향 측정 (각 축당 2문항, 점수 범위 -2~+2)
- Q9~Q16: 보조 태그 측정 (8개 태그, 각 태그당 2번 등장)
- 1차 필터(4축)로 후보군 축소 → 2차 필터(보조 태그)로 최종 캐릭터 결정

**최신 업데이트 (2025-02-17):** 16문항 시스템으로 확장, 달걀귀신 추가 (총 10개 캐릭터)

---

## 성향 축 매핑

| 축 | - 방향 | + 방향 |
|---|---|---|
| A | 안정 | 실험 |
| B | 구조 | 즉흥 |
| C | 개인 | 협업 |
| D | 품질 | 속도 |

## 캐릭터 프로필

| 캐릭터 | A | B | C | D | Primary Tag |
|---|---|---|---|---|---|
| 👑 갓쓴키로 | -1 | -1 | -1 | -1 | 설계 |
| 👻 총각귀신 | -1 | +1 | -1 | +1 | 몰입 |
| 👰 처녀귀신 | -1 | -1 | +1 | +1 | UX |
| 👹 도깨비 | +1 | +1 | -1 | +1 | - |
| � 구미호 | +1 | -1 | -1 | +1 | 자동화 |
| �🦁 해태 | -1 | -1 | +1 | -1 | 테스트 |
| 🪵 장승 | -1 | -1 | +1 | -1 | 거버넌스 |
| ⚰️ 저승사자 | +1 | -1 | -1 | -1 | 부채청산 |
| 🌊 물귀신 | -1 | +1 | +1 | +1 | 연결 |
| 🥚 달걀귀신 | +1 | -1 | +1 | -1 | 추상화 |

---

## 질문 구조 (16문항)

### Q1-Q8: 4축 성향 측정
각 축당 2문항씩 측정하여 -2 ~ +2 범위의 점수 산출

- **A축 (안정 ↔ 실험)**: Q1, Q5
- **B축 (구조 ↔ 즉흥)**: Q2, Q6
- **C축 (개인 ↔ 협업)**: Q3, Q7
- **D축 (품질 ↔ 속도)**: Q4, Q8

### Q9-Q16: 보조 태그 측정
8개 태그가 각 2번씩 등장 (총 16개 선택지)

**Q9, Q11, Q13, Q15 (개인 작업 성향)**:
- 설계
- UX
- 부채청산
- 몰입

**Q10, Q12, Q14, Q16 (팀/프로세스 성향)**:
- 자동화
- 연결
- 테스트
- 거버넌스

---

## 점수 산출 로직

### 1단계: 4축 점수 (Q1~Q8)

각 축은 2개 문항의 합으로 계산:
```
A축 = Q1 + Q5 (범위: -2 ~ +2)
B축 = Q2 + Q6 (범위: -2 ~ +2)
C축 = Q3 + Q7 (범위: -2 ~ +2)
D축 = Q4 + Q8 (범위: -2 ~ +2)
```

4축 점수의 부호(sign)로 매핑 테이블 조회:
```
sign(A), sign(B), sign(C), sign(D)
예: (-1, -1, -1, -1) → 갓쓴키로
```

### 2단계: 후보군 결정

**단독 매핑 (7개 조합)**:
| 4축 조합 | 캐릭터 |
|---|---|
| -1,-1,-1,-1 | 👑 갓쓴키로 |
| +1,+1,-1,+1 | 👹 도깨비 |
| -1,+1,+1,+1 | 🌊 물귀신 |
| +1,-1,-1,-1 | ⚰️ 저승사자 |
| -1,-1,+1,+1 | 👰 처녀귀신 |
| +1,+1,+1,+1 | 👹 도깨비 |
| +1,+1,-1,-1 | 👹 도깨비 |

**다중 매핑 (4개 조합, primaryTag로 결정)**:
| 4축 조합 | 후보군 | 결정 기준 |
|---|---|---|
| -1,+1,-1,+1 | 총각귀신 / 구미호 | 몰입 vs 자동화 |
| -1,-1,+1,-1 | 해태 / 장승 | 테스트 vs 거버넌스 |
| +1,-1,+1,-1 | 달걀귀신 / 저승사자 | 추상화 vs 부채청산 |
| +1,-1,+1,+1 | 달걀귀신 / 물귀신 | 추상화 vs 연결 |

**0 값 포함 매핑 (3개 조합)**:
| 4축 조합 | 후보군 |
|---|---|
| 0,-1,-1,-1 | 갓쓴키로 / 저승사자 |
| -1,0,+1,-1 | 해태 / 처녀귀신 |
| 0,0,0,0 | 갓쓴키로 / 달걀귀신 / 해태 |

### 3단계: 보조 태그 집계 (Q9~Q16)

각 태그별 점수 집계 (범위: 0~4):
```
설계: Q9, Q11, Q13, Q15 중 선택 횟수
UX: Q9, Q11, Q13, Q15 중 선택 횟수
부채청산: Q9, Q11, Q13, Q15 중 선택 횟수
몰입: Q9, Q11, Q13, Q15 중 선택 횟수
자동화: Q10, Q12, Q14, Q16 중 선택 횟수
연결: Q10, Q12, Q14, Q16 중 선택 횟수
테스트: Q10, Q12, Q14, Q16 중 선택 횟수
거버넌스: Q10, Q12, Q14, Q16 중 선택 횟수
```

### 4단계: 최종 캐릭터 결정

**단독 후보군**: 즉시 반환

**다중 후보군**: 각 캐릭터의 primaryTag 점수 비교
- 최고 점수 캐릭터 선택
- 동점 시 후보군의 첫 번째 캐릭터 선택

**매핑 테이블에 없는 조합**: 유클리드 거리 기반 폴백
```
distance = sqrt(
  (A_user - A_char)^2 +
  (B_user - B_char)^2 +
  (C_user - C_char)^2 +
  (D_user - D_char)^2
)
```
가장 가까운 캐릭터들을 후보군으로 하여 보조 태그로 최종 결정

---

## 매핑 테이블 상세

### 경쟁 관계

1. **총각귀신 vs 구미호** (-1,+1,-1,+1)
   - 총각귀신: 몰입 태그 우세
   - 구미호: 자동화 태그 우세

2. **해태 vs 장승** (-1,-1,+1,-1)
   - 해태: 테스트 태그 우세
   - 장승: 거버넌스 태그 우세

3. **달걀귀신 vs 저승사자** (+1,-1,+1,-1)
   - 달걀귀신: 추상화 태그 우세 (현재 설계 태그로 대체)
   - 저승사자: 부채청산 태그 우세

4. **달걀귀신 vs 물귀신** (+1,-1,+1,+1)
   - 달걀귀신: 추상화 태그 우세 (현재 설계 태그로 대체)
   - 물귀신: 연결 태그 우세

### 캐릭터별 노출 경로

| 캐릭터 | 경로 수 | 비고 |
|--------|---------|------|
| 👑 갓쓴키로 | 3 | 단독(1) + 0값(2) |
| 👻 총각귀신 | 1 | 다중 |
| 👰 처녀귀신 | 2 | 단독(1) + 0값(1) |
| 👹 도깨비 | 3 | 단독 |
| 🦊 구미호 | 1 | 다중 |
| 🦁 해태 | 3 | 다중(1) + 0값(2) |
| 🪵 장승 | 1 | 다중 |
| ⚰️ 저승사자 | 3 | 단독(1) + 다중(1) + 0값(1) |
| 🌊 물귀신 | 2 | 단독(1) + 다중(1) |
| 🥚 달걀귀신 | 3 | 다중(2) + 0값(1) |

---

## 질문 예시

### Q1. A축 (안정 ↔ 실험)
**새 프로젝트를 시작할 때, 당신의 기술 스택 선택 기준은?**
- A) 검증된 기술을 선택한다. 안정성이 최우선이다. → A: -1
- B) 새로운 기술을 시도한다. 배움과 도전이 중요하다. → A: +1

### Q2. B축 (구조 ↔ 즉흥)
**기능 구현 전, 당신의 작업 스타일은?**
- A) 설계 문서를 먼저 작성하고 구조를 잡는다. → B: -1
- B) 일단 코드를 작성하면서 방향을 잡아간다. → B: +1

### Q9. 보조 태그 (설계/UX/부채청산/몰입)
**가장 보람을 느끼는 순간은?**
- A) 깔끔한 시스템 아키텍처가 완성되었을 때 → 설계
- B) 사용자가 "이거 정말 편하다"고 말할 때 → UX
- C) 복잡한 레거시 코드를 깔끔하게 정리했을 때 → 부채청산
- D) 밤새 디버깅 끝에 근본 원인을 찾았을 때 → 몰입

### Q10. 보조 태그 (자동화/연결/테스트/거버넌스)
**팀에서 가장 중요하게 생각하는 것은?**
- A) 반복 작업을 자동화하여 효율을 높이는 것 → 자동화
- B) 팀 간 원활한 커뮤니케이션과 협업 → 연결
- C) 철저한 테스트로 안정적인 배포 보장 → 테스트
- D) 명확한 코딩 컨벤션과 리뷰 프로세스 → 거버넌스

---

## 구현 참고

실제 질문 데이터는 `src/data/questions.ts`에 정의되어 있으며, 다국어(한국어/영어/일본어)를 지원합니다.

점수 산출 로직은 `src/lib/quiz-engine.ts`에 구현되어 있습니다:
- `calculateAxisScores()`: 4축 점수 산출
- `determineCandidatePool()`: 후보군 결정
- `calculateAuxiliaryTags()`: 보조 태그 집계
- `determineCharacter()`: 최종 캐릭터 결정
- `euclideanFallback()`: 유클리드 거리 기반 폴백
